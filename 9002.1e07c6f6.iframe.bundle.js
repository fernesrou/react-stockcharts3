"use strict";(self.webpackChunk_react_stockcharts3_stories=self.webpackChunk_react_stockcharts3_stories||[]).push([[9002],{"../core/lib/utils/barWidth.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>plotDataLengthBarWidth});var ___WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../core/lib/utils/index.js");const plotDataLengthBarWidth=(props,moreProps)=>{const{widthRatio}=props,{xAccessor,xScale,plotData}=moreProps,[l,r]=xScale.range();if(null!=xScale.invert){const[dl,dr]=xScale.domain();if("number"==typeof dl&&"number"==typeof dr){return Math.abs(r-l)/Math.abs(dl-dr)*widthRatio}return(xScale(xAccessor((0,___WEBPACK_IMPORTED_MODULE_0__.HV)(plotData)))-xScale(xAccessor((0,___WEBPACK_IMPORTED_MODULE_0__.$1)(plotData))))/plotData.length*widthRatio*.7}return Math.abs(r-l)/xScale.domain().length*widthRatio}},"../indicators/lib/calculator/defaultOptionsForComputation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Be:()=>Kagi,Mb:()=>Renko,Wq:()=>ForceIndex,Xt:()=>SAR,ZV:()=>FullStochasticOscillator,Zi:()=>RSI,e0:()=>MACD,jt:()=>ElderRay,lY:()=>Change,mV:()=>EMA,q7:()=>PointAndFigure,qd:()=>BollingerBand,yJ:()=>ATR});const BollingerBand={windowSize:20,sourcePath:"close",multiplier:2,movingAverageType:"sma"},ATR={windowSize:14},ForceIndex={sourcePath:"close",volumePath:"volume"},Change={sourcePath:"close",basePath:"close",mainKeys:[],compareKeys:[]},ElderRay={windowSize:13,sourcePath:"close",movingAverageType:"sma"},SAR={accelerationFactor:.02,maxAccelerationFactor:.2},MACD={fast:12,slow:26,signal:9,sourcePath:"close"},FullStochasticOscillator={windowSize:12,kWindowSize:3,dWindowSize:3},RSI={windowSize:14,sourcePath:"close"},EMA={sourcePath:"close",windowSize:10},Kagi={reversalType:"ATR",windowSize:14,reversal:2,sourcePath:"close"},Renko={reversalType:"ATR",windowSize:14,fixedBrickSize:2,sourcePath:"high/low"},PointAndFigure={boxSize:.5,reversal:3,sourcePath:"high/low"}},"../indicators/lib/calculator/ema.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../indicators/lib/utils/path.js"),_defaultOptionsForComputation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../indicators/lib/calculator/defaultOptionsForComputation.js");function __WEBPACK_DEFAULT_EXPORT__(){let options=_defaultOptionsForComputation__WEBPACK_IMPORTED_MODULE_1__.mV;const calculator=data=>{const{windowSize,sourcePath}=options,source=(0,_utils__WEBPACK_IMPORTED_MODULE_0__.A)(sourcePath),alpha=2/(windowSize+1);let previous,initialAccumulator=0,skip=0;return data.map(function(d,i){const v=source(d,i);if(void 0!==previous||void 0!==v){if(!(i<windowSize+skip-1)){if(i===windowSize+skip-1){initialAccumulator+=v;const initialValue=initialAccumulator/windowSize;return previous=initialValue,initialValue}{const nextValue=v*alpha+(1-alpha)*previous;return previous=nextValue,nextValue}}initialAccumulator+=v}else skip++})};return calculator.undefinedLength=()=>{const{windowSize}=options;return windowSize-1},calculator.options=newOptions=>void 0===newOptions?options:(options={..._defaultOptionsForComputation__WEBPACK_IMPORTED_MODULE_1__.mV,...newOptions},calculator),calculator}},"../indicators/lib/indicator/elderRay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>indicator_elderRay});var mean=__webpack_require__("../../node_modules/d3-array/src/mean.js"),zip=__webpack_require__("../../node_modules/d3-array/src/zip.js"),slidingWindow=__webpack_require__("../indicators/lib/utils/slidingWindow.js"),ema=__webpack_require__("../indicators/lib/calculator/ema.js"),defaultOptionsForComputation=__webpack_require__("../indicators/lib/calculator/defaultOptionsForComputation.js");var merge=__webpack_require__("../indicators/lib/utils/merge.js"),rebind=__webpack_require__("../indicators/lib/utils/rebind.js"),baseIndicator=__webpack_require__("../indicators/lib/indicator/baseIndicator.js");const ALGORITHM_TYPE="ElderRay";function indicator_elderRay(){const base=(0,baseIndicator.A)().type(ALGORITHM_TYPE).accessor(d=>d.elderRay),underlyingAlgorithm=function elderRay(){let options=defaultOptionsForComputation.jt,ohlc=d=>({open:d.open,high:d.high,low:d.low,close:d.close});const calculator=data=>{const{windowSize,sourcePath,movingAverageType}=options,meanAlgorithm="ema"===movingAverageType?(0,ema.A)().options({windowSize,sourcePath}):(0,slidingWindow.A)().windowSize(windowSize).accumulator(values=>(0,mean.A)(values)).sourcePath(sourcePath);return(0,zip.A)(data,meanAlgorithm(data)).map(d=>{const datum=d[0],meanValue=d[1];return{bullPower:void 0!==meanValue?ohlc(datum).high-meanValue:void 0,bearPower:void 0!==meanValue?ohlc(datum).low-meanValue:void 0}})};return calculator.undefinedLength=()=>{const{windowSize}=options;return windowSize-1},calculator.ohlc=ohlcAccessor=>void 0===ohlcAccessor?ohlc:(ohlc=ohlcAccessor,calculator),calculator.options=newOptions=>void 0===newOptions?options:(options={...defaultOptionsForComputation.jt,...newOptions},calculator),calculator}(),mergedAlgorithm=(0,merge.A)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.elderRay=i}),indicator=(data,options={merge:!0})=>{if(options.merge){if(!base.accessor())throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return(0,rebind.A)(indicator,base,"id","accessor","stroke","fill","echo","type"),(0,rebind.A)(indicator,underlyingAlgorithm,"options"),(0,rebind.A)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator}},"../indicators/lib/utils/functor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>functor});const functor=v=>"function"==typeof v?v:()=>v},"../indicators/lib/utils/identity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>identity});const identity=d=>d},"../indicators/lib/utils/merge.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _zipper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../indicators/lib/utils/zipper.js"),_identity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../indicators/lib/utils/identity.js");function __WEBPACK_DEFAULT_EXPORT__(){let algorithm=_identity__WEBPACK_IMPORTED_MODULE_1__.D,skipUndefined=!0,merge=()=>{};const mergeCompute=data=>(0,_zipper__WEBPACK_IMPORTED_MODULE_0__.A)().combine((datum,indicator)=>{const result=skipUndefined&&void 0===indicator?datum:merge(datum,indicator);return void 0===result?datum:result})(data,algorithm(data));return mergeCompute.algorithm=newAlgorithm=>void 0===newAlgorithm?algorithm:(algorithm=newAlgorithm,mergeCompute),mergeCompute.merge=newMerge=>void 0===newMerge?merge:(merge=newMerge,mergeCompute),mergeCompute.skipUndefined=newSkipUndefined=>void 0===newSkipUndefined?skipUndefined:(skipUndefined=newSkipUndefined,mergeCompute),mergeCompute}},"../indicators/lib/utils/path.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>path});const path=(loc=[])=>{const key=Array.isArray(loc)?loc:[loc],length=key.length;return function(obj,defaultValue){if(0===length)return null!=obj?obj:defaultValue;let index=0;for(;null!=obj&&index<length;)obj=obj[key[index++]];return index===length?obj:defaultValue}}},"../indicators/lib/utils/slidingWindow.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _functor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../indicators/lib/utils/functor.js"),_path__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../indicators/lib/utils/path.js");function __WEBPACK_DEFAULT_EXPORT__(){let undefinedValue,sourcePath,source,misc,windowSize=10,accumulator=()=>{},skipInitial=0;const slidingWindow=data=>{const sourceFunction=source||(0,_path__WEBPACK_IMPORTED_MODULE_1__.A)(sourcePath),size=(0,_functor__WEBPACK_IMPORTED_MODULE_0__.E)(windowSize).apply(this,arguments),windowData=data.slice(skipInitial,size+skipInitial).map(sourceFunction);let accumulatorIdx=0;const undef=(0,_functor__WEBPACK_IMPORTED_MODULE_0__.E)(undefinedValue);return data.map((d,i)=>i<skipInitial+size-1?undef(sourceFunction(d),i,misc):(i>=skipInitial+size&&(windowData.shift(),windowData.push(sourceFunction(d,i))),accumulator(windowData,i,accumulatorIdx++,misc)))};return slidingWindow.undefinedValue=function(x){return arguments.length?(undefinedValue=x,slidingWindow):undefinedValue},slidingWindow.windowSize=function(x){return arguments.length?(windowSize=x,slidingWindow):windowSize},slidingWindow.misc=function(x){return arguments.length?(misc=x,slidingWindow):misc},slidingWindow.accumulator=function(x){return arguments.length?(accumulator=x,slidingWindow):accumulator},slidingWindow.skipInitial=function(x){return arguments.length?(skipInitial=x,slidingWindow):skipInitial},slidingWindow.sourcePath=function(x){return arguments.length?(sourcePath=x,slidingWindow):sourcePath},slidingWindow.source=function(x){return arguments.length?(source=x,slidingWindow):source},slidingWindow}},"../indicators/lib/utils/zipper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>zipper});var d3_array__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/d3-array/src/min.js"),_identity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../indicators/lib/utils/identity.js");function zipper(){let combine=_identity__WEBPACK_IMPORTED_MODULE_1__.D;function zip(){const n=arguments.length;if(0===n)return[];const m=(0,d3_array__WEBPACK_IMPORTED_MODULE_0__.A)(arguments,d3_zipLength)??0,zips=new Array(m);for(let i=-1;++i<m;){for(let j=-1,zip=zips[i]=new Array(n);++j<n;)zip[j]=arguments[j][i];zips[i]=combine.apply(this,zips[i])}return zips}function d3_zipLength(d){return d.length}return zip.combine=function(x){return arguments.length?(combine=x,zip):combine},zip}},"../series/lib/ElderRaySeries.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>ElderRaySeries});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),merge=__webpack_require__("../../node_modules/d3-array/src/merge.js"),utils=__webpack_require__("../core/lib/utils/index.js"),GenericChartComponent=__webpack_require__("../core/lib/GenericChartComponent.js"),GenericComponent=__webpack_require__("../core/lib/GenericComponent.js"),barWidth=__webpack_require__("../core/lib/utils/barWidth.js"),StackedBarSeries=__webpack_require__("../series/lib/StackedBarSeries.js");class OverlayBarSeries extends react.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const bars=this.getBars(moreProps);(0,StackedBarSeries.Gy)(this.props,ctx,bars)},this.getBars=moreProps=>{const{xScale,xAccessor,chartConfig:{yScale},plotData}=moreProps,{baseAt,fillStyle,stroke,yAccessor}=this.props,getFill=(0,utils.ER)(fillStyle),getBase=(0,utils.ER)(baseAt),width=(0,utils.ER)(this.props.width)(this.props,moreProps),offset=Math.floor(.5*width),bars=plotData.map(d=>{const innerBars=yAccessor.map((eachYAccessor,i)=>{const yValue=eachYAccessor(d);if(void 0===yValue)return;const xValue=xAccessor(d),x=Math.round(xScale(xValue))-offset,y=yScale(yValue);return{height:0,width:2*offset,x,y,stroke:stroke?getFill(d,i):"none",fillStyle:getFill(d,i),i}}).filter(yValue=>void 0!==yValue);let h,b=getBase(xScale,yScale,d);for(let i=innerBars.length-1;i>=0;i--)h=b-innerBars[i].y,h<0&&(innerBars[i].y=b,h*=-1),innerBars[i].height=h,b=innerBars[i].y;return innerBars});return(0,merge.A)(bars)}}render(){const{clip}=this.props;return(0,jsx_runtime.jsx)(GenericChartComponent.P,{canvasToDraw:GenericComponent.WJ,canvasDraw:this.drawOnCanvas,clip,drawOn:["pan"]})}}OverlayBarSeries.defaultProps={baseAt:(xScale,yScale)=>(0,utils.$1)(yScale.range()),clip:!0,direction:"up",stroke:!1,fillStyle:"#4682B4",widthRatio:.5,width:barWidth.h};var StraightLine=__webpack_require__("../series/lib/StraightLine.js");class ElderRaySeries extends react.Component{constructor(){super(...arguments),this.yAccessorBullTop=d=>{const{yAccessor}=this.props;return yAccessor(d)&&(yAccessor(d).bullPower>0?yAccessor(d).bullPower:void 0)},this.yAccessorBearTop=d=>{const{yAccessor}=this.props;return yAccessor(d)&&(yAccessor(d).bearPower>0?yAccessor(d).bearPower:void 0)},this.yAccessorBullBottom=d=>{const{yAccessor}=this.props;return yAccessor(d)&&(yAccessor(d).bullPower<0?0:void 0)},this.yAccessorBearBottom=d=>{const{yAccessor}=this.props;return yAccessor(d)&&(yAccessor(d).bullPower<0||yAccessor(d).bullPower*yAccessor(d).bearPower<0?Math.min(0,yAccessor(d).bullPower):void 0)},this.yAccessorForBarBase=(_,yScale,d)=>{const{yAccessor}=this.props;return yScale(yAccessor(d)&&Math.min(yAccessor(d).bearPower,0))},this.fillForEachBar=(_,yAccessorNumber)=>{const{fillStyle}=this.props;return yAccessorNumber%2==0?fillStyle.bullPower:fillStyle.bearPower}}render(){const{className,clip,stroke,straightLineStrokeStyle,straightLineStrokeDasharray,widthRatio}=this.props;return(0,jsx_runtime.jsxs)("g",{className,children:[(0,jsx_runtime.jsx)(OverlayBarSeries,{baseAt:this.yAccessorForBarBase,stroke,fillStyle:this.fillForEachBar,widthRatio,clip,yAccessor:[this.yAccessorBullTop,this.yAccessorBearTop,this.yAccessorBullBottom,this.yAccessorBearBottom]}),(0,jsx_runtime.jsx)(StraightLine.d,{yValue:0,strokeStyle:straightLineStrokeStyle,lineDash:straightLineStrokeDasharray})]})}}ElderRaySeries.defaultProps={fillStyle:{bearPower:"rgba(239, 83, 80, 0.7)",bullPower:"rgba(38, 166, 153, 0.7)"},className:"react-financial-charts-elderray-series",clip:!0,stroke:!0,straightLineStrokeStyle:"rgba(0, 0, 0, 0.7)",straightLineStrokeDasharray:"Dash",widthRatio:.8}},"../series/lib/StackedBarSeries.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Gy:()=>drawOnCanvas2,Th:()=>identityStack,aZ:()=>drawOnCanvasHelper});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),d3_array__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/d3-array/src/group.js"),d3_array__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/d3-array/src/merge.js"),d3_shape__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/d3-shape/src/stack.js"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/react/index.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../core/lib/GenericChartComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../core/lib/GenericComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../core/lib/utils/identity.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../core/lib/utils/index.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../core/lib/utils/barWidth.js");class StackedBarSeries extends react__WEBPACK_IMPORTED_MODULE_4__.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const{xAccessor}=moreProps;drawOnCanvasHelper(ctx,this.props,moreProps,xAccessor,d3_shape__WEBPACK_IMPORTED_MODULE_3__.A)}}render(){const{clip}=this.props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_5__.P,{clip,canvasDraw:this.drawOnCanvas,canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_6__.WJ,drawOn:["pan"]})}}function identityStack(){let keys=[];function stack(data){return keys.map((key,i)=>{const arrays=data.map(d=>{const array=[0,d[key]];return array.data=d,array});return arrays.key=key,arrays.index=i,arrays})}return stack.keys=function(x){return arguments.length?(keys=x,stack):keys},stack}function drawOnCanvasHelper(ctx,props,moreProps,xAccessor,stackFn,defaultPostAction=_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_7__.D,postRotateAction=rotateXY){const{xScale,chartConfig:{yScale},plotData}=moreProps,bars=doStuff(props,xAccessor,plotData,xScale,yScale,stackFn,postRotateAction,defaultPostAction);drawOnCanvas2(props,ctx,bars)}function convertToArray(item){return Array.isArray(item)?item:[item]}StackedBarSeries.defaultProps={baseAt:(xScale,yScale)=>(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_8__.d5)(yScale.range()),direction:"up",stroke:!1,fillStyle:"rgba(70, 130, 180, 0.5)",width:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_9__.h,widthRatio:.8,clip:!0,swapScales:!1};const doStuff=(props,xAccessor,plotData,xScale,yScale,stackFn,postRotateAction,defaultPostAction)=>{const{yAccessor,swapScales}=props,bars=function getBars(props,xAccessor,yAccessor,xScale,yScale,plotData,stack=identityStack,after=_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_7__.D){const{baseAt,fillStyle,stroke,spaceBetweenBar=0}=props,getFill=(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_8__.ER)(fillStyle),getBase=(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_8__.ER)(baseAt),widthFunctor=(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_8__.ER)(props.width),width=widthFunctor(props,{xScale,xAccessor,plotData}),barWidth=Math.round(width),eachBarWidth=(barWidth-spaceBetweenBar*(yAccessor.length-1))/yAccessor.length,offset=1===barWidth?0:.5*width,ds=plotData.map(each=>{const d={appearance:{},x:xAccessor(each)};return yAccessor.forEach((eachYAccessor,i)=>{const key=`y${i}`;d[key]=eachYAccessor(each);const appearance={stroke:stroke?getFill(each,i):"none",fillStyle:getFill(each,i)};d.appearance[key]=appearance}),d}),keys=yAccessor.map((_,i)=>`y${i}`),newData=stack().keys(keys)(ds).map((each,i)=>{const key=each.key;return each.map(d=>{const array=[d[0],d[1]];return array.data={x:d.data.x,i,appearance:d.data.appearance[key]},array})}),bars=(0,d3_array__WEBPACK_IMPORTED_MODULE_2__.A)(newData).map(d=>{let y=yScale(d[1]),h=getBase(xScale,yScale,d.data)-yScale(d[1]-d[0]);return h<0&&(y+=h,h=-h),{...d.data.appearance,x:Math.round(xScale(d.data.x)-width/2),y,groupOffset:Math.round(offset-(d.data.i>0?(eachBarWidth+spaceBetweenBar)*d.data.i:0)),groupWidth:Math.round(eachBarWidth),offset:Math.round(offset),height:h,width:barWidth}}).filter(bar=>!isNaN(bar.y));return after(bars)}(props,swapScales?yAccessor:xAccessor,convertToArray(swapScales?xAccessor:yAccessor),swapScales?yScale:xScale,swapScales?xScale:yScale,plotData,stackFn,swapScales?postRotateAction:defaultPostAction);return bars},rotateXY=array=>array.map(each=>({...each,x:each.y,y:each.x,height:each.width,width:each.height})),drawOnCanvas2=(props,ctx,bars)=>{const{stroke}=props;(0,d3_array__WEBPACK_IMPORTED_MODULE_1__.Ay)(bars,d=>d.fillStyle).forEach((values,key)=>{(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_8__.d5)(values).width>1&&void 0!==key&&(ctx.strokeStyle=key),ctx.fillStyle=key,values.forEach(d=>{d.width<=1?ctx.fillRect(d.x-.5,d.y,1,d.height):(ctx.fillRect(d.x+.5,d.y+.5,d.width,d.height),stroke&&ctx.strokeRect(d.x,d.y,d.width,d.height))})})}},"../series/lib/StraightLine.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>StraightLine});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/lib/GenericChartComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../core/lib/GenericComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../core/lib/utils/strokeDasharray.js");class StraightLine extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const{type,strokeStyle,lineWidth,lineDash,yValue,xValue}=this.props,{xScale,chartConfig:{yScale,width,height}}=moreProps;ctx.beginPath(),void 0!==strokeStyle&&(ctx.strokeStyle=strokeStyle),void 0!==lineWidth&&(ctx.lineWidth=lineWidth),void 0!==lineDash&&("string"==typeof lineDash?ctx.setLineDash((0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__.y)(lineDash)):ctx.setLineDash(lineDash));const{x1,y1,x2,y2}=this.getLineCoordinates(type,xScale,yScale,xValue,yValue,width,height);ctx.moveTo(x1,y1),ctx.lineTo(x2,y2),ctx.stroke()},this.getLineCoordinates=(type,xScale,yScale,xValue,yValue,width,height)=>"horizontal"===type?{x1:0,y1:Math.round(yScale(yValue)),x2:width,y2:Math.round(yScale(yValue))}:{x1:Math.round(xScale(xValue)),y1:0,x2:Math.round(xScale(xValue)),y2:height}}render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.P,{canvasDraw:this.drawOnCanvas,canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.WJ,drawOn:["pan"]})}}StraightLine.defaultProps={lineWidth:1,lineDash:"Solid",strokeStyle:"rgba(0, 0, 0, 0.5)",type:"horizontal"}},"../tooltip/lib/SingleValueTooltip.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>SingleValueTooltip});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../core/lib/GenericChartComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/lib/utils/identity.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../core/lib/utils/noop.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../core/lib/utils/index.js"),d3_format__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/d3-format/src/defaultLocale.js"),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/react/index.js"),_ToolTipText__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../tooltip/lib/ToolTipText.js"),_ToolTipTSpanLabel__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../tooltip/lib/ToolTipTSpanLabel.js");class SingleValueTooltip extends react__WEBPACK_IMPORTED_MODULE_6__.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{onClick,fontFamily,fontSize,fontWeight,labelFill,labelFontWeight,valueFill,className,displayValuesFor=SingleValueTooltip.defaultProps.displayValuesFor,origin:originProp,xDisplayFormat=SingleValueTooltip.defaultProps.xDisplayFormat,yDisplayFormat=SingleValueTooltip.defaultProps.yDisplayFormat,xLabel,yLabel,xAccessor=SingleValueTooltip.defaultProps.xAccessor,yAccessor=SingleValueTooltip.defaultProps.yAccessor,xInitDisplay,yInitDisplay}=this.props,{chartConfig:{width,height},fullData}=moreProps,currentItem=displayValuesFor(this.props,moreProps)??(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__.HV)(fullData);let xDisplayValue=xInitDisplay,yDisplayValue=yInitDisplay;if(void 0!==currentItem){const xItem=xAccessor(currentItem);void 0!==xItem&&(xDisplayValue=xDisplayFormat(xItem));const yItem=yAccessor(currentItem);void 0!==yItem&&(yDisplayValue=yDisplayFormat(yItem))}const origin=(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__.ER)(originProp),[x,y]=origin(width,height);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("g",{className,transform:`translate(${x}, ${y})`,onClick,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_ToolTipText__WEBPACK_IMPORTED_MODULE_7__.z,{x:0,y:0,fontFamily,fontSize,fontWeight,children:[xLabel?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ToolTipTSpanLabel__WEBPACK_IMPORTED_MODULE_8__.O,{x:0,dy:"5",fill:labelFill,children:`${xLabel}: `}):null,xLabel?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tspan",{fill:valueFill,children:`${xDisplayValue} `}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_ToolTipTSpanLabel__WEBPACK_IMPORTED_MODULE_8__.O,{fill:labelFill,fontWeight:labelFontWeight,children:`${yLabel} `}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tspan",{fill:valueFill,children:yDisplayValue})]})})}}render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_1__.P,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}SingleValueTooltip.defaultProps={className:"react-financial-charts-tooltip",displayValuesFor:(_,props)=>props.currentItem,labelFill:"#4682B4",origin:[0,0],valueFill:"#000000",xAccessor:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.l,xDisplayFormat:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.D,xInitDisplay:"n/a",yAccessor:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.D,yDisplayFormat:(0,d3_format__WEBPACK_IMPORTED_MODULE_5__.GP)(".2f"),yInitDisplay:"n/a"}},"../tooltip/lib/ToolTipTSpanLabel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>ToolTipTSpanLabel});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js");class ToolTipTSpanLabel extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent{render(){const{children,...rest}=this.props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tspan",{...rest,children})}}ToolTipTSpanLabel.defaultProps={className:"react-financial-charts-tooltip-label",fill:"#4682B4"}},"../tooltip/lib/ToolTipText.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>ToolTipText});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js");class ToolTipText extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent{render(){const{children,...rest}=this.props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("text",{...rest,children})}}ToolTipText.defaultProps={className:"react-financial-charts-tooltip",fontFamily:"-apple-system, system-ui, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:11}}}]);