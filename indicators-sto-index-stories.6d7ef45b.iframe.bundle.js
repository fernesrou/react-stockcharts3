"use strict";(self.webpackChunk_react_stockcharts3_stories=self.webpackChunk_react_stockcharts3_stories||[]).push([[7461],{"../../node_modules/d3-dsv/src/tsv.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Nu:()=>tsvParse});var EOL={},EOF={};function objectConverter(columns){return new Function("d","return {"+columns.map(function(name,i){return JSON.stringify(name)+": d["+i+'] || ""'}).join(",")+"}")}function inferColumns(rows){var columnSet=Object.create(null),columns=[];return rows.forEach(function(row){for(var column in row)column in columnSet||columns.push(columnSet[column]=column)}),columns}function pad(value,width){var s=value+"",length=s.length;return length<width?new Array(width-length+1).join(0)+s:s}function formatDate(date){var hours=date.getUTCHours(),minutes=date.getUTCMinutes(),seconds=date.getUTCSeconds(),milliseconds=date.getUTCMilliseconds();return isNaN(date)?"Invalid Date":function formatYear(year){return year<0?"-"+pad(-year,6):year>9999?"+"+pad(year,6):pad(year,4)}(date.getUTCFullYear())+"-"+pad(date.getUTCMonth()+1,2)+"-"+pad(date.getUTCDate(),2)+(milliseconds?"T"+pad(hours,2)+":"+pad(minutes,2)+":"+pad(seconds,2)+"."+pad(milliseconds,3)+"Z":seconds?"T"+pad(hours,2)+":"+pad(minutes,2)+":"+pad(seconds,2)+"Z":minutes||hours?"T"+pad(hours,2)+":"+pad(minutes,2)+"Z":"")}var tsv=function dsv(delimiter){var reFormat=new RegExp('["'+delimiter+"\n\r]"),DELIMITER=delimiter.charCodeAt(0);function parseRows(text,f){var t,rows=[],N=text.length,I=0,n=0,eof=N<=0,eol=!1;function token(){if(eof)return EOF;if(eol)return eol=!1,EOL;var i,c,j=I;if(34===text.charCodeAt(j)){for(;I++<N&&34!==text.charCodeAt(I)||34===text.charCodeAt(++I););return(i=I)>=N?eof=!0:10===(c=text.charCodeAt(I++))?eol=!0:13===c&&(eol=!0,10===text.charCodeAt(I)&&++I),text.slice(j+1,i-1).replace(/""/g,'"')}for(;I<N;){if(10===(c=text.charCodeAt(i=I++)))eol=!0;else if(13===c)eol=!0,10===text.charCodeAt(I)&&++I;else if(c!==DELIMITER)continue;return text.slice(j,i)}return eof=!0,text.slice(j,N)}for(10===text.charCodeAt(N-1)&&--N,13===text.charCodeAt(N-1)&&--N;(t=token())!==EOF;){for(var row=[];t!==EOL&&t!==EOF;)row.push(t),t=token();f&&null==(row=f(row,n++))||rows.push(row)}return rows}function preformatBody(rows,columns){return rows.map(function(row){return columns.map(function(column){return formatValue(row[column])}).join(delimiter)})}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(value){return null==value?"":value instanceof Date?formatDate(value):reFormat.test(value+="")?'"'+value.replace(/"/g,'""')+'"':value}return{parse:function parse(text,f){var convert,columns,rows=parseRows(text,function(row,i){if(convert)return convert(row,i-1);columns=row,convert=f?function customConverter(columns,f){var object=objectConverter(columns);return function(row,i){return f(object(row),i,columns)}}(row,f):objectConverter(row)});return rows.columns=columns||[],rows},parseRows,format:function format(rows,columns){return null==columns&&(columns=inferColumns(rows)),[columns.map(formatValue).join(delimiter)].concat(preformatBody(rows,columns)).join("\n")},formatBody:function formatBody(rows,columns){return null==columns&&(columns=inferColumns(rows)),preformatBody(rows,columns).join("\n")},formatRows:function formatRows(rows){return rows.map(formatRow).join("\n")},formatRow,formatValue}}("\t"),tsvParse=tsv.parse;tsv.parseRows,tsv.format,tsv.formatBody,tsv.formatRows,tsv.formatRow,tsv.formatValue},"../../node_modules/d3-path/src/path.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const pi=Math.PI,tau=2*pi,tauEpsilon=tau-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(x,y){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(x,y){this._+="L"+(this._x1=+x)+","+(this._y1=+y)},quadraticCurveTo:function(x1,y1,x,y){this._+="Q"+ +x1+","+ +y1+","+(this._x1=+x)+","+(this._y1=+y)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._+="C"+ +x1+","+ +y1+","+ +x2+","+ +y2+","+(this._x1=+x)+","+(this._y1=+y)},arcTo:function(x1,y1,x2,y2,r){x1=+x1,y1=+y1,x2=+x2,y2=+y2,r=+r;var x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=x1)+","+(this._y1=y1);else if(l01_2>1e-6)if(Math.abs(y01*x21-y21*x01)>1e-6&&r){var x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;Math.abs(t01-1)>1e-6&&(this._+="L"+(x1+t01*x01)+","+(y1+t01*y01)),this._+="A"+r+","+r+",0,0,"+ +(y01*x20>x01*y20)+","+(this._x1=x1+t21*x21)+","+(this._y1=y1+t21*y21)}else this._+="L"+(this._x1=x1)+","+(this._y1=y1);else;},arc:function(x,y,r,a0,a1,ccw){x=+x,y=+y,ccw=!!ccw;var dx=(r=+r)*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+x0+","+y0:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&(this._+="L"+x0+","+y0),r&&(da<0&&(da=da%tau+tau),da>tauEpsilon?this._+="A"+r+","+r+",0,1,"+cw+","+(x-dx)+","+(y-dy)+"A"+r+","+r+",0,1,"+cw+","+(this._x1=x0)+","+(this._y1=y0):da>1e-6&&(this._+="A"+r+","+r+",0,"+ +(da>=pi)+","+cw+","+(this._x1=x+r*Math.cos(a1))+","+(this._y1=y+r*Math.sin(a1))))},rect:function(x,y,w,h){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)+"h"+ +w+"v"+ +h+"h"+-w+"Z"},toString:function(){return this._}};const __WEBPACK_DEFAULT_EXPORT__=path},"../../node_modules/d3-scale/src/ordinal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ordinal});var d3_array__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/internmap/src/index.js"),_init_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/d3-scale/src/init.js");const implicit=Symbol("implicit");function ordinal(){var index=new d3_array__WEBPACK_IMPORTED_MODULE_0__.B,domain=[],range=[],unknown=implicit;function scale(d){let i=index.get(d);if(void 0===i){if(unknown!==implicit)return unknown;index.set(d,i=domain.push(d)-1)}return range[i%range.length]}return scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[],index=new d3_array__WEBPACK_IMPORTED_MODULE_0__.B;for(const value of _)index.has(value)||index.set(value,domain.push(value)-1);return scale},scale.range=function(_){return arguments.length?(range=Array.from(_),scale):range.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return ordinal(domain,range).unknown(unknown)},_init_js__WEBPACK_IMPORTED_MODULE_1__.C.apply(scale,arguments),scale}},"../../node_modules/d3-shape/src/array.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});Array.prototype.slice;function __WEBPACK_DEFAULT_EXPORT__(x){return"object"==typeof x&&"length"in x?x:Array.from(x)}},"../../node_modules/d3-shape/src/constant.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function __WEBPACK_DEFAULT_EXPORT__(x){return function constant(){return x}}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__})},"../../node_modules/d3-shape/src/curve/linear.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function Linear(context){this._context=context}function __WEBPACK_DEFAULT_EXPORT__(context){return new Linear(context)}__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__}),Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._context.lineTo(x,y)}}}},"../../node_modules/d3-shape/src/line.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var d3_path__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/d3-path/src/path.js"),_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/d3-shape/src/array.js"),_constant_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/d3-shape/src/constant.js"),_curve_linear_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/d3-shape/src/curve/linear.js"),_point_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/d3-shape/src/point.js");function __WEBPACK_DEFAULT_EXPORT__(x,y){var defined=(0,_constant_js__WEBPACK_IMPORTED_MODULE_2__.A)(!0),context=null,curve=_curve_linear_js__WEBPACK_IMPORTED_MODULE_3__.A,output=null;function line(data){var i,d,buffer,n=(data=(0,_array_js__WEBPACK_IMPORTED_MODULE_1__.A)(data)).length,defined0=!1;for(null==context&&(output=curve(buffer=(0,d3_path__WEBPACK_IMPORTED_MODULE_0__.A)())),i=0;i<=n;++i)!(i<n&&defined(d=data[i],i,data))===defined0&&((defined0=!defined0)?output.lineStart():output.lineEnd()),defined0&&output.point(+x(d,i,data),+y(d,i,data));if(buffer)return output=null,buffer+""||null}return x="function"==typeof x?x:void 0===x?_point_js__WEBPACK_IMPORTED_MODULE_4__.x:(0,_constant_js__WEBPACK_IMPORTED_MODULE_2__.A)(x),y="function"==typeof y?y:void 0===y?_point_js__WEBPACK_IMPORTED_MODULE_4__.y:(0,_constant_js__WEBPACK_IMPORTED_MODULE_2__.A)(y),line.x=function(_){return arguments.length?(x="function"==typeof _?_:(0,_constant_js__WEBPACK_IMPORTED_MODULE_2__.A)(+_),line):x},line.y=function(_){return arguments.length?(y="function"==typeof _?_:(0,_constant_js__WEBPACK_IMPORTED_MODULE_2__.A)(+_),line):y},line.defined=function(_){return arguments.length?(defined="function"==typeof _?_:(0,_constant_js__WEBPACK_IMPORTED_MODULE_2__.A)(!!_),line):defined},line.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),line):curve},line.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),line):context},line}},"../../node_modules/d3-shape/src/point.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function x(p){return p[0]}function y(p){return p[1]}__webpack_require__.d(__webpack_exports__,{x:()=>x,y:()=>y})},"../../node_modules/internmap/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>InternMap});class InternMap extends Map{constructor(entries,key=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:key}}),null!=entries)for(const[key,value]of entries)this.set(key,value)}get(key){return super.get(intern_get(this,key))}has(key){return super.has(intern_get(this,key))}set(key,value){return super.set(intern_set(this,key),value)}delete(key){return super.delete(intern_delete(this,key))}}Set;function intern_get({_intern,_key},value){const key=_key(value);return _intern.has(key)?_intern.get(key):value}function intern_set({_intern,_key},value){const key=_key(value);return _intern.has(key)?_intern.get(key):(_intern.set(key,value),value)}function intern_delete({_intern,_key},value){const key=_key(value);return _intern.has(key)&&(value=_intern.get(value),_intern.delete(key)),value}function keyof(value){return null!==value&&"object"==typeof value?value.valueOf():value}},"../coordinates/lib/CrossHairCursor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>CrossHairCursor});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/lib/ChartCanvas.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../core/lib/GenericComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../core/lib/utils/strokeDasharray.js");class CrossHairCursor extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const lines=this.getLines(this.props,moreProps);if(void 0===lines)return;const{margin,ratio}=this.context,originX=.5*ratio+margin.left,originY=.5*ratio+margin.top;ctx.save(),ctx.setTransform(1,0,0,1,0,0),ctx.scale(ratio,ratio),ctx.translate(originX,originY),lines.forEach(line=>{const dashArray=(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__.y)(line.strokeDasharray);ctx.strokeStyle=line.strokeStyle,ctx.lineWidth=line.strokeWidth,ctx.setLineDash(dashArray),ctx.beginPath(),ctx.moveTo(line.x1,line.y1),ctx.lineTo(line.x2,line.y2),ctx.stroke()}),ctx.restore()},this.getLines=(props,moreProps)=>{const{mouseXY,currentItem,show,height,width}=moreProps,{customX=CrossHairCursor.defaultProps.customX,strokeStyle=CrossHairCursor.defaultProps.strokeStyle,strokeDasharray,strokeWidth=CrossHairCursor.defaultProps.strokeWidth}=props;if(!show||void 0===currentItem)return;const line1={x1:0,x2:width,y1:mouseXY[1]+.5,y2:mouseXY[1]+.5,strokeStyle,strokeDasharray,strokeWidth},x=customX(props,moreProps);return[line1,{x1:x,x2:x,y1:0,y2:height,strokeStyle,strokeDasharray,strokeWidth}]}}render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.By,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.wk,drawOn:["mousemove","pan","drag"]})}}CrossHairCursor.defaultProps={customX:(props,moreProps)=>{const{xScale,xAccessor,currentItem,mouseXY}=moreProps,{snapX}=props;return snapX?Math.round(xScale(xAccessor(currentItem))):mouseXY[0]+.5},snapX:!0,strokeStyle:"rgba(55, 71, 79, 0.8)",strokeDasharray:"Dash",strokeWidth:1},CrossHairCursor.contextType=_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.c0},"../coordinates/lib/EdgeCoordinateV3.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{s:()=>drawOnCanvas});__webpack_require__("../../node_modules/react/jsx-runtime.js");var _react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../core/lib/utils/index.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/lib/utils/strokeDasharray.js");const helper=props=>{const{coordinate:displayCoordinate,show,type,orient,edgeAt,hideLine,lineStrokeDasharray,fill,fontFamily,fontSize,textFill,lineStroke,stroke,strokeWidth,arrowWidth,rectWidth,rectHeight,rectRadius,x1,y1,x2,y2,dx}=props;if(!show)return null;let coordinateBase,coordinate;if(void 0!==displayCoordinate){let edgeXRect,edgeYRect,edgeXText,edgeYText;if("horizontal"===type)edgeXRect=dx+("right"===orient?edgeAt+1:edgeAt-rectWidth-1),edgeYRect=y1-rectHeight/2-strokeWidth,edgeXText=dx+("right"===orient?edgeAt+rectWidth/2:edgeAt-rectWidth/2),edgeYText=y1;else{const dy="bottom"===orient?strokeWidth-1:1-strokeWidth;edgeXRect=x1-rectWidth/2,edgeYRect=("bottom"===orient?edgeAt:edgeAt-rectHeight)+dy,edgeXText=x1,edgeYText=("bottom"===orient?edgeAt+rectHeight/2:edgeAt-rectHeight/2)+dy}coordinateBase={edgeXRect,edgeYRect,rectHeight:rectHeight+strokeWidth,rectWidth,rectRadius,fill,arrowWidth,stroke,strokeWidth},coordinate={edgeXText,edgeYText,textAnchor:"middle",fontFamily,fontSize,textFill,displayCoordinate}}return{coordinateBase,coordinate,line:hideLine?void 0:{stroke:lineStroke,strokeDasharray:lineStrokeDasharray,x1,y1,x2,y2},orient}},drawOnCanvas=(ctx,props)=>{const{coordinate,fitToText,fontSize,fontFamily,rectWidth}=props;ctx.font=`${fontSize}px ${fontFamily}`,ctx.textBaseline="middle";let width=rectWidth;fitToText&&(width=Math.round(ctx.measureText(coordinate).width+10));const edge=helper({...props,rectWidth:width});if(null!==edge){if(void 0!==edge.line&&(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_1__.O9)(edge.line)){const dashArray=(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.y)(edge.line.strokeDasharray);ctx.setLineDash(dashArray),ctx.strokeStyle=edge.line.stroke,ctx.lineWidth=1,ctx.beginPath(),ctx.moveTo(edge.line.x1,edge.line.y1),ctx.lineTo(edge.line.x2,edge.line.y2),ctx.stroke()}if(ctx.setLineDash([]),void 0!==edge.coordinateBase){const{arrowWidth,rectWidth,rectHeight,rectRadius}=edge.coordinateBase;ctx.fillStyle=edge.coordinateBase.fill,void 0!==edge.coordinateBase.stroke&&(ctx.strokeStyle=edge.coordinateBase.stroke,ctx.lineWidth=edge.coordinateBase.strokeWidth);let x=edge.coordinateBase.edgeXRect;const y=edge.coordinateBase.edgeYRect,halfHeight=rectHeight/2;ctx.beginPath(),arrowWidth>0&&"right"===edge.orient?(x-=arrowWidth,ctx.moveTo(x,y+halfHeight),ctx.lineTo(x+arrowWidth,y),ctx.lineTo(x+rectWidth+arrowWidth,y),ctx.lineTo(x+rectWidth+arrowWidth,y+rectHeight),ctx.lineTo(x+arrowWidth,y+rectHeight),ctx.closePath()):arrowWidth>0&&"left"===edge.orient?(ctx.moveTo(x,y),ctx.lineTo(x+rectWidth,y),ctx.lineTo(x+rectWidth+arrowWidth,y+halfHeight),ctx.lineTo(x+rectWidth,y+rectHeight),ctx.lineTo(x,y+rectHeight),ctx.closePath()):rectRadius?roundRect(ctx,x-.5,y-.5,rectWidth,rectHeight,3):ctx.rect(x-.5,y,rectWidth,rectHeight),ctx.fill(),void 0!==edge.coordinateBase.stroke&&ctx.stroke(),void 0!==edge.coordinate&&(ctx.fillStyle=edge.coordinate.textFill,ctx.textAlign="middle"===edge.coordinate.textAnchor?"center":edge.coordinate.textAnchor,ctx.fillText(edge.coordinate.displayCoordinate,edge.coordinate.edgeXText,edge.coordinate.edgeYText))}}},roundRect=(ctx,x,y,width,height,radius)=>{ctx.beginPath(),ctx.moveTo(x+radius,y),ctx.lineTo(x+width-radius,y),ctx.quadraticCurveTo(x+width,y,x+width,y+radius),ctx.lineTo(x+width,y+height-radius),ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height),ctx.lineTo(x+radius,y+height),ctx.quadraticCurveTo(x,y+height,x,y+height-radius),ctx.lineTo(x,y+radius),ctx.quadraticCurveTo(x,y,x+radius,y),ctx.closePath()}},"../coordinates/lib/MouseCoordinateX.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>MouseCoordinateX});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/lib/GenericChartComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../core/lib/GenericComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../core/lib/utils/index.js"),_EdgeCoordinateV3__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../coordinates/lib/EdgeCoordinateV3.js");class MouseCoordinateX extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const props=this.helper(this.props,moreProps);null!==props&&(0,_EdgeCoordinateV3__WEBPACK_IMPORTED_MODULE_5__.s)(ctx,props)},this.helper=(props,moreProps)=>{const{show,currentItem,chartConfig:{height}}=moreProps;if((0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__.pN)(currentItem))return null;const{customX,orient,at,rectRadius,rectWidth,rectHeight,stroke,strokeOpacity,strokeWidth}=props,{fill,opacity,fitToText,fontFamily,fontSize,textFill}=props,edgeAt="bottom"===at?height:0,{x,coordinate}=customX(props,moreProps);return{coordinate,fitToText,show,type:"vertical",orient,edgeAt,hideLine:!0,fill,opacity,fontFamily,fontSize,textFill,stroke,strokeOpacity,strokeWidth,rectWidth,rectHeight,rectRadius,arrowWidth:0,x1:x,x2:x,y1:0,y2:height}}}render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.P,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.wk,drawOn:["mousemove","pan","drag"]})}}MouseCoordinateX.defaultProps={at:"bottom",customX:(props,moreProps)=>{const{xScale,xAccessor,currentItem,mouseXY}=moreProps,{snapX}=props,x=snapX?xScale(xAccessor(currentItem)):mouseXY[0],{displayXAccessor}=moreProps,{displayFormat}=props;return{x,coordinate:displayFormat(snapX?displayXAccessor(currentItem):xScale.invert(x))}},fill:"#4C525E",fitToText:!0,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,opacity:1,orient:"bottom",rectWidth:80,rectHeight:20,snapX:!0,strokeOpacity:1,strokeWidth:1,textFill:"#FFFFFF",yAxisPad:0}},"../coordinates/lib/MouseCoordinateY.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>MouseCoordinateY});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/lib/GenericChartComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../core/lib/GenericComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../core/lib/utils/index.js"),_EdgeCoordinateV3__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../coordinates/lib/EdgeCoordinateV3.js");class MouseCoordinateY extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const props=this.helper(this.props,moreProps);void 0!==props&&(0,_EdgeCoordinateV3__WEBPACK_IMPORTED_MODULE_5__.s)(ctx,props)},this.helper=(props,moreProps)=>{const{chartConfig:{yScale},chartId,currentItem,currentCharts,mouseXY,show}=moreProps;if(!show)return;if((0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__.pN)(mouseXY))return;if(currentCharts.indexOf(chartId)<0)return;const{displayFormat,yAccessor}=props;if(yAccessor&&!currentItem)return;const y=yAccessor?yScale(yAccessor(currentItem)):mouseXY[1];return function getYCoordinate(y,coordinate,props,moreProps){const{width}=moreProps,{orient,at,rectWidth,rectHeight,dx,stroke,strokeOpacity,strokeWidth}=props,{fill,opacity,fitToText,fontFamily,fontSize,textFill,arrowWidth}=props,coordinateProps={coordinate,show:!0,fitToText,type:"horizontal",orient,edgeAt:"right"===at?width:0,hideLine:!0,fill,opacity,fontFamily,fontSize,textFill,stroke,strokeOpacity,strokeWidth,rectWidth,rectHeight,arrowWidth,dx,x1:0,x2:width,y1:y,y2:y};return coordinateProps}(y,displayFormat(yScale.invert(y)),props,moreProps)}}render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.P,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.wk,drawOn:["mousemove","pan","drag"]})}}MouseCoordinateY.defaultProps={arrowWidth:0,at:"right",dx:0,fill:"#4C525E",fitToText:!1,fontFamily:"-apple-system, system-ui, Roboto, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:13,opacity:1,orient:"right",rectWidth:50,rectHeight:20,strokeOpacity:1,strokeWidth:1,textFill:"#FFFFFF",yAxisPad:0}},"../indicators/lib/calculator/defaultOptionsForComputation.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Be:()=>Kagi,Mb:()=>Renko,Wq:()=>ForceIndex,Xt:()=>SAR,ZV:()=>FullStochasticOscillator,Zi:()=>RSI,e0:()=>MACD,jt:()=>ElderRay,lY:()=>Change,mV:()=>EMA,q7:()=>PointAndFigure,qd:()=>BollingerBand,yJ:()=>ATR});const BollingerBand={windowSize:20,sourcePath:"close",multiplier:2,movingAverageType:"sma"},ATR={windowSize:14},ForceIndex={sourcePath:"close",volumePath:"volume"},Change={sourcePath:"close",basePath:"close",mainKeys:[],compareKeys:[]},ElderRay={windowSize:13,sourcePath:"close",movingAverageType:"sma"},SAR={accelerationFactor:.02,maxAccelerationFactor:.2},MACD={fast:12,slow:26,signal:9,sourcePath:"close"},FullStochasticOscillator={windowSize:12,kWindowSize:3,dWindowSize:3},RSI={windowSize:14,sourcePath:"close"},EMA={sourcePath:"close",windowSize:10},Kagi={reversalType:"ATR",windowSize:14,reversal:2,sourcePath:"close"},Renko={reversalType:"ATR",windowSize:14,fixedBrickSize:2,sourcePath:"high/low"},PointAndFigure={boxSize:.5,reversal:3,sourcePath:"high/low"}},"../indicators/lib/utils/functor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>functor});const functor=v=>"function"==typeof v?v:()=>v},"../indicators/lib/utils/identity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>identity});const identity=d=>d},"../indicators/lib/utils/merge.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _zipper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../indicators/lib/utils/zipper.js"),_identity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../indicators/lib/utils/identity.js");function __WEBPACK_DEFAULT_EXPORT__(){let algorithm=_identity__WEBPACK_IMPORTED_MODULE_1__.D,skipUndefined=!0,merge=()=>{};const mergeCompute=data=>(0,_zipper__WEBPACK_IMPORTED_MODULE_0__.A)().combine((datum,indicator)=>{const result=skipUndefined&&void 0===indicator?datum:merge(datum,indicator);return void 0===result?datum:result})(data,algorithm(data));return mergeCompute.algorithm=newAlgorithm=>void 0===newAlgorithm?algorithm:(algorithm=newAlgorithm,mergeCompute),mergeCompute.merge=newMerge=>void 0===newMerge?merge:(merge=newMerge,mergeCompute),mergeCompute.skipUndefined=newSkipUndefined=>void 0===newSkipUndefined?skipUndefined:(skipUndefined=newSkipUndefined,mergeCompute),mergeCompute}},"../indicators/lib/utils/path.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>path});const path=(loc=[])=>{const key=Array.isArray(loc)?loc:[loc],length=key.length;return function(obj,defaultValue){if(0===length)return null!=obj?obj:defaultValue;let index=0;for(;null!=obj&&index<length;)obj=obj[key[index++]];return index===length?obj:defaultValue}}},"../indicators/lib/utils/slidingWindow.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _functor__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../indicators/lib/utils/functor.js"),_path__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../indicators/lib/utils/path.js");function __WEBPACK_DEFAULT_EXPORT__(){let undefinedValue,sourcePath,source,misc,windowSize=10,accumulator=()=>{},skipInitial=0;const slidingWindow=data=>{const sourceFunction=source||(0,_path__WEBPACK_IMPORTED_MODULE_1__.A)(sourcePath),size=(0,_functor__WEBPACK_IMPORTED_MODULE_0__.E)(windowSize).apply(this,arguments),windowData=data.slice(skipInitial,size+skipInitial).map(sourceFunction);let accumulatorIdx=0;const undef=(0,_functor__WEBPACK_IMPORTED_MODULE_0__.E)(undefinedValue);return data.map((d,i)=>i<skipInitial+size-1?undef(sourceFunction(d),i,misc):(i>=skipInitial+size&&(windowData.shift(),windowData.push(sourceFunction(d,i))),accumulator(windowData,i,accumulatorIdx++,misc)))};return slidingWindow.undefinedValue=function(x){return arguments.length?(undefinedValue=x,slidingWindow):undefinedValue},slidingWindow.windowSize=function(x){return arguments.length?(windowSize=x,slidingWindow):windowSize},slidingWindow.misc=function(x){return arguments.length?(misc=x,slidingWindow):misc},slidingWindow.accumulator=function(x){return arguments.length?(accumulator=x,slidingWindow):accumulator},slidingWindow.skipInitial=function(x){return arguments.length?(skipInitial=x,slidingWindow):skipInitial},slidingWindow.sourcePath=function(x){return arguments.length?(sourcePath=x,slidingWindow):sourcePath},slidingWindow.source=function(x){return arguments.length?(source=x,slidingWindow):source},slidingWindow}},"../indicators/lib/utils/zipper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>zipper});var d3_array__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/d3-array/src/min.js"),_identity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../indicators/lib/utils/identity.js");function zipper(){let combine=_identity__WEBPACK_IMPORTED_MODULE_1__.D;function zip(){const n=arguments.length;if(0===n)return[];const m=(0,d3_array__WEBPACK_IMPORTED_MODULE_0__.A)(arguments,d3_zipLength)??0,zips=new Array(m);for(let i=-1;++i<m;){for(let j=-1,zip=zips[i]=new Array(n);++j<n;)zip[j]=arguments[j][i];zips[i]=combine.apply(this,zips[i])}return zips}function d3_zipLength(d){return d.length}return zip.combine=function(x){return arguments.length?(combine=x,zip):combine},zip}},"../series/lib/LineSeries.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>LineSeries});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../core/lib/utils/closestItem.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/lib/GenericChartComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../core/lib/GenericComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../core/lib/utils/strokeDasharray.js"),d3_shape__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/d3-shape/src/line.js"),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/react/index.js");class LineSeries extends react__WEBPACK_IMPORTED_MODULE_6__.Component{constructor(){super(...arguments),this.drawOnCanvas=lineDash=>(ctx,moreProps)=>{const{connectNulls,yAccessor,hoverStrokeWidth=LineSeries.defaultProps.hoverStrokeWidth,defined=LineSeries.defaultProps.defined,curve,canvasClip,strokeStyle,strokeWidth=LineSeries.defaultProps.strokeWidth}=this.props,{xAccessor,xScale,chartConfig,plotData,hovering}=moreProps;if(!chartConfig)return void console.warn("LineSeries received no chartConfig, is it inside of a Chart?");const{yScale}=chartConfig;void 0!==canvasClip&&(ctx.save(),canvasClip(ctx,moreProps)),ctx.lineWidth=hovering?hoverStrokeWidth:strokeWidth,void 0!==strokeStyle&&(ctx.strokeStyle=strokeStyle),void 0!==lineDash&&ctx.setLineDash(lineDash);const dataSeries=(0,d3_shape__WEBPACK_IMPORTED_MODULE_5__.A)().x(d=>Math.round(xScale(xAccessor(d)))).y(d=>Math.round(yScale(yAccessor(d))));void 0!==curve&&dataSeries.curve(curve),connectNulls||dataSeries.defined(d=>defined(yAccessor(d))),ctx.beginPath(),dataSeries.context(ctx)(plotData),ctx.stroke(),void 0!==canvasClip&&ctx.restore()},this.isHover=moreProps=>{const{highlightOnHover,yAccessor,hoverTolerance=LineSeries.defaultProps.hoverTolerance}=this.props;if(!highlightOnHover)return!1;const{chartConfig:{yScale,origin},xAccessor,mouseXY,currentItem,xScale,plotData}=moreProps,[x,y]=mouseXY,radius=hoverTolerance,{left,right}=(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_1__.f)(plotData,xScale.invert(x),xAccessor);if(left===right){const cy=yScale(yAccessor(currentItem))+origin[1],cx=xScale(xAccessor(currentItem))+origin[0];return Math.pow(x-cx,2)+Math.pow(y-cy,2)<Math.pow(radius,2)}{const l=plotData[left],r=plotData[right],x1=xScale(xAccessor(l))+origin[0],y1=yScale(yAccessor(l))+origin[1],x2=xScale(xAccessor(r))+origin[0],m=(yScale(yAccessor(r))+origin[1]-y1)/(x2-x1),b=-1*m*x1+y1,desiredY=Math.round(m*x+b);return y>=desiredY-radius&&y<=desiredY+radius}}}render(){const{highlightOnHover,onClick,onContextMenu,onDoubleClick,onHover,onUnHover,strokeDasharray}=this.props,hoverProps=highlightOnHover||onHover||onUnHover?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.wk}:{drawOn:["pan"],canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.WJ},lineDash=(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__.y)(strokeDasharray);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.P,{canvasDraw:this.drawOnCanvas(lineDash),onClickWhenHover:onClick,onDoubleClickWhenHover:onDoubleClick,onContextMenuWhenHover:onContextMenu,onHover,onUnHover,...hoverProps})}}LineSeries.defaultProps={connectNulls:!1,defined:d=>void 0!==d&&!isNaN(d),hoverStrokeWidth:4,hoverTolerance:6,highlightOnHover:!1,strokeDasharray:"Solid",strokeStyle:"#2196f3",strokeWidth:1}},"../series/lib/StraightLine.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>StraightLine});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/lib/GenericChartComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../core/lib/GenericComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../core/lib/utils/strokeDasharray.js");class StraightLine extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const{type,strokeStyle,lineWidth,lineDash,yValue,xValue}=this.props,{xScale,chartConfig:{yScale,width,height}}=moreProps;ctx.beginPath(),void 0!==strokeStyle&&(ctx.strokeStyle=strokeStyle),void 0!==lineWidth&&(ctx.lineWidth=lineWidth),void 0!==lineDash&&("string"==typeof lineDash?ctx.setLineDash((0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__.y)(lineDash)):ctx.setLineDash(lineDash));const{x1,y1,x2,y2}=this.getLineCoordinates(type,xScale,yScale,xValue,yValue,width,height);ctx.moveTo(x1,y1),ctx.lineTo(x2,y2),ctx.stroke()},this.getLineCoordinates=(type,xScale,yScale,xValue,yValue,width,height)=>"horizontal"===type?{x1:0,y1:Math.round(yScale(yValue)),x2:width,y2:Math.round(yScale(yValue))}:{x1:Math.round(xScale(xValue)),y1:0,x2:Math.round(xScale(xValue)),y2:height}}render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.P,{canvasDraw:this.drawOnCanvas,canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.WJ,drawOn:["pan"]})}}StraightLine.defaultProps={lineWidth:1,lineDash:"Solid",strokeStyle:"rgba(0, 0, 0, 0.5)",type:"horizontal"}},"../series/src/LineSeries.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>LineSeries});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../core/lib/utils/closestItem.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/lib/GenericChartComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../core/lib/GenericComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../core/lib/utils/strokeDasharray.js"),d3_shape__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/d3-shape/src/line.js"),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/react/index.js");class LineSeries extends react__WEBPACK_IMPORTED_MODULE_6__.Component{constructor(){super(...arguments),this.drawOnCanvas=lineDash=>(ctx,moreProps)=>{const{connectNulls,yAccessor,hoverStrokeWidth=LineSeries.defaultProps.hoverStrokeWidth,defined=LineSeries.defaultProps.defined,curve,canvasClip,strokeStyle,strokeWidth=LineSeries.defaultProps.strokeWidth}=this.props,{xAccessor,xScale,chartConfig,plotData,hovering}=moreProps;if(!chartConfig)return void console.warn("LineSeries received no chartConfig, is it inside of a Chart?");const{yScale}=chartConfig;void 0!==canvasClip&&(ctx.save(),canvasClip(ctx,moreProps)),ctx.lineWidth=hovering?hoverStrokeWidth:strokeWidth,void 0!==strokeStyle&&(ctx.strokeStyle=strokeStyle),void 0!==lineDash&&ctx.setLineDash(lineDash);const dataSeries=(0,d3_shape__WEBPACK_IMPORTED_MODULE_5__.A)().x(d=>Math.round(xScale(xAccessor(d)))).y(d=>Math.round(yScale(yAccessor(d))));void 0!==curve&&dataSeries.curve(curve),connectNulls||dataSeries.defined(d=>defined(yAccessor(d))),ctx.beginPath(),dataSeries.context(ctx)(plotData),ctx.stroke(),void 0!==canvasClip&&ctx.restore()},this.isHover=moreProps=>{const{highlightOnHover,yAccessor,hoverTolerance=LineSeries.defaultProps.hoverTolerance}=this.props;if(!highlightOnHover)return!1;const{chartConfig:{yScale,origin},xAccessor,mouseXY,currentItem,xScale,plotData}=moreProps,[x,y]=mouseXY,radius=hoverTolerance,{left,right}=(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_1__.f)(plotData,xScale.invert(x),xAccessor);if(left===right){const cy=yScale(yAccessor(currentItem))+origin[1],cx=xScale(xAccessor(currentItem))+origin[0];return Math.pow(x-cx,2)+Math.pow(y-cy,2)<Math.pow(radius,2)}{const l=plotData[left],r=plotData[right],x1=xScale(xAccessor(l))+origin[0],y1=yScale(yAccessor(l))+origin[1],x2=xScale(xAccessor(r))+origin[0],m=(yScale(yAccessor(r))+origin[1]-y1)/(x2-x1),b=-1*m*x1+y1,desiredY=Math.round(m*x+b);return y>=desiredY-radius&&y<=desiredY+radius}}}render(){const{highlightOnHover,onClick,onContextMenu,onDoubleClick,onHover,onUnHover,strokeDasharray}=this.props,hoverProps=highlightOnHover||onHover||onUnHover?{isHover:this.isHover,drawOn:["mousemove","pan"],canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.wk}:{drawOn:["pan"],canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.WJ},lineDash=(0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__.y)(strokeDasharray);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.P,{canvasDraw:this.drawOnCanvas(lineDash),onClickWhenHover:onClick,onDoubleClickWhenHover:onDoubleClick,onContextMenuWhenHover:onContextMenu,onHover,onUnHover,...hoverProps})}}LineSeries.defaultProps={connectNulls:!1,defined:d=>void 0!==d&&!isNaN(d),hoverStrokeWidth:4,hoverTolerance:6,highlightOnHover:!1,strokeDasharray:"Solid",strokeStyle:"#2196f3",strokeWidth:1}},"../series/src/StraightLine.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>StraightLine});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../core/lib/GenericChartComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../core/lib/GenericComponent.js"),_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../core/lib/utils/strokeDasharray.js");class StraightLine extends react__WEBPACK_IMPORTED_MODULE_1__.Component{constructor(){super(...arguments),this.drawOnCanvas=(ctx,moreProps)=>{const{type,strokeStyle,lineWidth,lineDash,yValue,xValue}=this.props,{xScale,chartConfig:{yScale,width,height}}=moreProps;ctx.beginPath(),void 0!==strokeStyle&&(ctx.strokeStyle=strokeStyle),void 0!==lineWidth&&(ctx.lineWidth=lineWidth),void 0!==lineDash&&("string"==typeof lineDash?ctx.setLineDash((0,_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_4__.y)(lineDash)):ctx.setLineDash(lineDash));const{x1,y1,x2,y2}=this.getLineCoordinates(type,xScale,yScale,xValue,yValue,width,height);ctx.moveTo(x1,y1),ctx.lineTo(x2,y2),ctx.stroke()},this.getLineCoordinates=(type,xScale,yScale,xValue,yValue,width,height)=>"horizontal"===type?{x1:0,y1:Math.round(yScale(yValue)),x2:width,y2:Math.round(yScale(yValue))}:{x1:Math.round(xScale(xValue)),y1:0,x2:Math.round(xScale(xValue)),y2:height}}render(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_2__.P,{canvasDraw:this.drawOnCanvas,canvasToDraw:_react_stockcharts3_core__WEBPACK_IMPORTED_MODULE_3__.WJ,drawOn:["pan"]})}}StraightLine.defaultProps={lineWidth:1,lineDash:"Solid",strokeStyle:"rgba(0, 0, 0, 0.5)",type:"horizontal"}},"../tooltip/lib/ToolTipTSpanLabel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>ToolTipTSpanLabel});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js");class ToolTipTSpanLabel extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent{render(){const{children,...rest}=this.props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tspan",{...rest,children})}}ToolTipTSpanLabel.defaultProps={className:"react-financial-charts-tooltip-label",fill:"#4682B4"}},"../tooltip/lib/ToolTipText.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{z:()=>ToolTipText});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js");class ToolTipText extends react__WEBPACK_IMPORTED_MODULE_1__.PureComponent{render(){const{children,...rest}=this.props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("text",{...rest,children})}}ToolTipText.defaultProps={className:"react-financial-charts-tooltip",fontFamily:"-apple-system, system-ui, 'Helvetica Neue', Ubuntu, sans-serif",fontSize:11}},"./src/indicators/sto/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,basic:()=>basic,default:()=>index_stories});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),LineSeries=__webpack_require__("../series/src/LineSeries.tsx"),StraightLine=__webpack_require__("../series/src/StraightLine.tsx");class StochasticSeries extends react.Component{constructor(){super(...arguments),this.yAccessorForK=d=>{const{yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).K},this.yAccessorForD=d=>{const{yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).D}}render(){const{className,strokeStyle=StochasticSeries.defaultProps.strokeStyle,overSold,middle,overBought}=this.props;return(0,jsx_runtime.jsxs)("g",{className,children:[(0,jsx_runtime.jsx)(LineSeries.I,{yAccessor:this.yAccessorForD,strokeStyle:strokeStyle.dLine}),(0,jsx_runtime.jsx)(LineSeries.I,{yAccessor:this.yAccessorForK,strokeStyle:strokeStyle.kLine}),(0,jsx_runtime.jsx)(StraightLine.d,{strokeStyle:strokeStyle.top,yValue:overSold}),(0,jsx_runtime.jsx)(StraightLine.d,{strokeStyle:strokeStyle.middle,yValue:middle}),(0,jsx_runtime.jsx)(StraightLine.d,{strokeStyle:strokeStyle.bottom,yValue:overBought})]})}}StochasticSeries.defaultProps={className:"react-financial-charts-stochastic-series",strokeStyle:{top:"rgba(150, 75, 0, 0.3)",middle:"rgba(0, 0, 0, 0.3)",bottom:"rgba(150, 75, 0, 0.3)",dLine:"#EA2BFF",kLine:"#74D400"},overSold:80,middle:50,overBought:20};var defaultLocale=__webpack_require__("../../node_modules/d3-format/src/defaultLocale.js"),src_defaultLocale=__webpack_require__("../../node_modules/d3-time-format/src/defaultLocale.js"),discontinuousTimeScaleProvider=__webpack_require__("../scales/lib/discontinuousTimeScaleProvider.js"),merge=__webpack_require__("../indicators/lib/utils/merge.js"),rebind=__webpack_require__("../indicators/lib/utils/rebind.js"),max=__webpack_require__("../../node_modules/d3-array/src/max.js"),min=__webpack_require__("../../node_modules/d3-array/src/min.js"),mean=__webpack_require__("../../node_modules/d3-array/src/mean.js"),zip=__webpack_require__("../../node_modules/d3-array/src/zip.js"),slidingWindow=__webpack_require__("../indicators/lib/utils/slidingWindow.js"),defaultOptionsForComputation=__webpack_require__("../indicators/lib/calculator/defaultOptionsForComputation.js");function sto(){let options=defaultOptionsForComputation.ZV,source=d=>({open:d.open,high:d.high,low:d.low,close:d.close});const calculator=data=>{const{windowSize,kWindowSize,dWindowSize}=options,high=d=>source(d).high,low=d=>source(d).low,kWindow=(0,slidingWindow.A)().windowSize(windowSize).accumulator(values=>{const highestHigh=(0,max.A)(values,high);if(void 0===highestHigh)return;const lowestLow=(0,min.A)(values,low);if(void 0===lowestLow)return;var d;return((d=values[values.length-1],source(d).close)-lowestLow)/(highestHigh-lowestLow)*100}),kSmoothed=(0,slidingWindow.A)().skipInitial(windowSize-1).windowSize(kWindowSize).accumulator(values=>(0,mean.A)(values)),dWindow=(0,slidingWindow.A)().skipInitial(windowSize-1+kWindowSize-1).windowSize(dWindowSize).accumulator(values=>(0,mean.A)(values)),kData=kSmoothed(kWindow(data)),dData=dWindow(kData);return(0,zip.A)(kData,dData).map(d=>({K:d[0],D:d[1]}))};return calculator.undefinedLength=()=>{const{windowSize,kWindowSize,dWindowSize}=options;return windowSize+kWindowSize+dWindowSize},calculator.source=newSource=>void 0===newSource?source:(source=newSource,calculator),calculator.options=newOptions=>void 0===newOptions?options:(options={...defaultOptionsForComputation.ZV,...newOptions},calculator),calculator}var baseIndicator=__webpack_require__("../indicators/lib/indicator/baseIndicator.js");function stochasticOscillator(){const base=(0,baseIndicator.A)().type("STO"),underlyingAlgorithm=sto(),mergedAlgorithm=(0,merge.A)().algorithm(underlyingAlgorithm).merge((datum,i)=>{datum.sto=i}),indicator=(data,options={merge:!0})=>{if(options.merge){if(!base.accessor())throw new Error("Set an accessor to STO before calculating");return mergedAlgorithm(data)}return underlyingAlgorithm(data)};return(0,rebind.A)(indicator,base,"id","accessor","stroke","fill","echo","type"),(0,rebind.A)(indicator,underlyingAlgorithm,"options","undefinedLength"),(0,rebind.A)(indicator,mergedAlgorithm,"merge","skipUndefined"),indicator}var ChartCanvas=__webpack_require__("../core/lib/ChartCanvas.js"),Chart=__webpack_require__("../core/lib/Chart.js"),XAxis=__webpack_require__("../axes/lib/XAxis.js"),YAxis=__webpack_require__("../axes/lib/YAxis.js"),MouseCoordinateY=__webpack_require__("../coordinates/lib/MouseCoordinateY.js"),lib_LineSeries=__webpack_require__("../series/lib/LineSeries.js"),lib_StraightLine=__webpack_require__("../series/lib/StraightLine.js");class StochasticSeries_StochasticSeries extends react.Component{constructor(){super(...arguments),this.yAccessorForK=d=>{const{yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).K},this.yAccessorForD=d=>{const{yAccessor}=this.props;return yAccessor(d)&&yAccessor(d).D}}render(){const{className,strokeStyle=StochasticSeries_StochasticSeries.defaultProps.strokeStyle,overSold,middle,overBought}=this.props;return(0,jsx_runtime.jsxs)("g",{className,children:[(0,jsx_runtime.jsx)(lib_LineSeries.I,{yAccessor:this.yAccessorForD,strokeStyle:strokeStyle.dLine}),(0,jsx_runtime.jsx)(lib_LineSeries.I,{yAccessor:this.yAccessorForK,strokeStyle:strokeStyle.kLine}),(0,jsx_runtime.jsx)(lib_StraightLine.d,{strokeStyle:strokeStyle.top,yValue:overSold}),(0,jsx_runtime.jsx)(lib_StraightLine.d,{strokeStyle:strokeStyle.middle,yValue:middle}),(0,jsx_runtime.jsx)(lib_StraightLine.d,{strokeStyle:strokeStyle.bottom,yValue:overBought})]})}}StochasticSeries_StochasticSeries.defaultProps={className:"react-financial-charts-stochastic-series",strokeStyle:{top:"rgba(150, 75, 0, 0.3)",middle:"rgba(0, 0, 0, 0.3)",bottom:"rgba(150, 75, 0, 0.3)",dLine:"#EA2BFF",kLine:"#74D400"},overSold:80,middle:50,overBought:20};var utils=__webpack_require__("../core/lib/utils/index.js"),GenericChartComponent=__webpack_require__("../core/lib/GenericChartComponent.js"),ToolTipText=__webpack_require__("../tooltip/lib/ToolTipText.js"),ToolTipTSpanLabel=__webpack_require__("../tooltip/lib/ToolTipTSpanLabel.js");class StochasticTooltip extends react.Component{constructor(){super(...arguments),this.renderSVG=moreProps=>{const{onClick,fontFamily,fontSize,fontWeight,yAccessor,displayFormat,origin:originProp,label,className,displayInit,displayValuesFor=StochasticTooltip.defaultProps.displayValuesFor,options,appearance,labelFill}=this.props,{chartConfig:{width,height},fullData}=moreProps,currentItem=displayValuesFor(this.props,moreProps)??fullData[fullData.length-1],stochastic=currentItem&&yAccessor(currentItem),K=(stochastic?.K&&displayFormat(stochastic.K))??displayInit,D=(stochastic?.D&&displayFormat(stochastic.D))??displayInit,origin=(0,utils.ER)(originProp),[x,y]=origin(width,height),{stroke}=appearance;return(0,jsx_runtime.jsx)("g",{className,transform:`translate(${x}, ${y})`,onClick,children:(0,jsx_runtime.jsxs)(ToolTipText.z,{x:0,y:0,fontFamily,fontSize,fontWeight,children:[(0,jsx_runtime.jsx)(ToolTipTSpanLabel.O,{fill:labelFill,children:`${label} %K(`}),(0,jsx_runtime.jsx)("tspan",{fill:stroke.kLine,children:`${options.windowSize}, ${options.kWindowSize}`}),(0,jsx_runtime.jsx)(ToolTipTSpanLabel.O,{fill:labelFill,children:"): "}),(0,jsx_runtime.jsx)("tspan",{fill:stroke.kLine,children:K}),(0,jsx_runtime.jsx)(ToolTipTSpanLabel.O,{fill:labelFill,children:" %D ("}),(0,jsx_runtime.jsx)("tspan",{fill:stroke.dLine,children:options.dWindowSize}),(0,jsx_runtime.jsx)(ToolTipTSpanLabel.O,{fill:labelFill,children:"): "}),(0,jsx_runtime.jsx)("tspan",{fill:stroke.dLine,children:D})]})})}}render(){return(0,jsx_runtime.jsx)(GenericChartComponent.P,{clip:!1,svgDraw:this.renderSVG,drawOn:["mousemove"]})}}StochasticTooltip.defaultProps={className:"react-financial-charts-tooltip",displayFormat:(0,defaultLocale.GP)(".2f"),displayInit:"n/a",displayValuesFor:(_,props)=>props.currentItem,label:"STO",origin:[0,0]};var MouseCoordinateX=__webpack_require__("../coordinates/lib/MouseCoordinateX.js"),CrossHairCursor=__webpack_require__("../coordinates/lib/CrossHairCursor.js"),withSize=__webpack_require__("../utils/lib/withSize.js"),withDeviceRatio=__webpack_require__("../utils/lib/withDeviceRatio.js"),data=__webpack_require__("./src/data/index.ts");class StoIndicator extends react.Component{constructor(){super(...arguments),this.displayFormat=(0,defaultLocale.GP)(".2f"),this.timeDisplayFormat=(0,src_defaultLocale.DC)("%d %b"),this.margin={left:0,right:40,top:0,bottom:24},this.xScaleProvider=(0,discontinuousTimeScaleProvider.L)().inputDateAccessor(d=>d.date)}render(){const{data:initialData,height,ratio,width}=this.props,slowSTO=stochasticOscillator().options({windowSize:14,kWindowSize:3,dWindowSize:3}).merge((d,c)=>{d.slowSTO=c}).accessor(d=>d.slowSTO),calculatedData=slowSTO(stochasticOscillator().options({windowSize:14,kWindowSize:1,dWindowSize:3}).merge((d,c)=>{d.fastSTO=c}).accessor(d=>d.fastSTO)(stochasticOscillator().options({windowSize:14,kWindowSize:3,dWindowSize:4}).merge((d,c)=>{d.fullSTO=c}).accessor(d=>d.fullSTO)(initialData))),{margin,xScaleProvider}=this,{data,xScale,xAccessor,displayXAccessor}=xScaleProvider(calculatedData),xExtents=[xAccessor(data[data.length-1]),xAccessor(data[Math.max(0,data.length-100)])],stoHeight=(height-margin.top-margin.bottom)/3;return(0,jsx_runtime.jsxs)(ChartCanvas.v,{height,ratio,width,margin:this.margin,data,displayXAccessor,seriesName:"Data",xScale,xAccessor,xExtents,children:[(0,jsx_runtime.jsxs)(Chart.t,{id:1,height:stoHeight,origin:(_,h)=>[0,h-3*stoHeight],yExtents:[0,100],children:[(0,jsx_runtime.jsx)(XAxis.W,{axisAt:"bottom",orient:"bottom",showGridLines:!0,showTickLabel:!1,outerTickSize:0}),(0,jsx_runtime.jsx)(YAxis.h,{axisAt:"right",orient:"right",tickValues:[20,50,80]}),(0,jsx_runtime.jsx)(MouseCoordinateY.R,{rectWidth:this.margin.right,displayFormat:this.displayFormat}),(0,jsx_runtime.jsx)(StochasticSeries_StochasticSeries,{yAccessor:d=>d.slowSTO}),(0,jsx_runtime.jsx)(StochasticTooltip,{origin:[8,16],yAccessor:d=>d.slowSTO,options:slowSTO.options(),appearance:{stroke:StochasticSeries_StochasticSeries.defaultProps.strokeStyle},label:"Slow STO"})]}),(0,jsx_runtime.jsxs)(Chart.t,{id:2,height:stoHeight,origin:(_,h)=>[0,h-2*stoHeight],yExtents:[0,100],children:[(0,jsx_runtime.jsx)(XAxis.W,{axisAt:"bottom",orient:"bottom",showGridLines:!0,showTickLabel:!1,outerTickSize:0}),(0,jsx_runtime.jsx)(YAxis.h,{axisAt:"right",orient:"right",tickValues:[20,50,80]}),(0,jsx_runtime.jsx)(MouseCoordinateY.R,{rectWidth:this.margin.right,displayFormat:this.displayFormat}),(0,jsx_runtime.jsx)(StochasticSeries_StochasticSeries,{yAccessor:d=>d.fastSTO}),(0,jsx_runtime.jsx)(StochasticTooltip,{origin:[8,16],yAccessor:d=>d.slowSTO,options:slowSTO.options(),appearance:{stroke:StochasticSeries_StochasticSeries.defaultProps.strokeStyle},label:"Fast STO"})]}),(0,jsx_runtime.jsxs)(Chart.t,{id:3,height:stoHeight,origin:(_,h)=>[0,h-stoHeight],yExtents:[0,100],children:[(0,jsx_runtime.jsx)(XAxis.W,{axisAt:"bottom",orient:"bottom",showGridLines:!0}),(0,jsx_runtime.jsx)(YAxis.h,{axisAt:"right",orient:"right",tickValues:[20,50,80]}),(0,jsx_runtime.jsx)(MouseCoordinateX.Y,{displayFormat:this.timeDisplayFormat}),(0,jsx_runtime.jsx)(MouseCoordinateY.R,{rectWidth:this.margin.right,displayFormat:this.displayFormat}),(0,jsx_runtime.jsx)(StochasticSeries_StochasticSeries,{yAccessor:d=>d.fullSTO}),(0,jsx_runtime.jsx)(StochasticTooltip,{origin:[8,16],yAccessor:d=>d.slowSTO,options:slowSTO.options(),appearance:{stroke:StochasticSeries_StochasticSeries.defaultProps.strokeStyle},label:"Full STO"})]}),(0,jsx_runtime.jsx)(CrossHairCursor.H,{})]})}}const sto_StoIndicator=(0,data.p)()((0,withSize.U)({style:{minHeight:600}})((0,withDeviceRatio.O)()(StoIndicator))),index_stories={title:"Visualization/Indicator/Stochastic Oscillator",component:StochasticSeries},basic={render:()=>(0,jsx_runtime.jsx)(sto_StoIndicator,{})},__namedExportsOrder=["basic"];basic.parameters={...basic.parameters,docs:{...basic.parameters?.docs,source:{originalSource:"{\n  render: () => <StoIndicator />\n}",...basic.parameters?.docs?.source}}}}}]);